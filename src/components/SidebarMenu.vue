<template>
    <div id="sidebar-menu" class="d-flex">
        <nav class="d-flex flex-column flex-1 align-items-end gap-8">
            <router-link to="/" @click="$emit('toggle-menu')"> {{ $t('Home') }} </router-link>
            <router-link to="/projects" @click="$emit('toggle-menu')"> {{ $t('Projects') }} </router-link>
            <a href="/#about" @click.prevent="() => { $emit('toggle-menu'); aboutCallback() }"> {{ $t('About') }} </a>
            <a href="/#contact" @click.prevent="() => { $emit('toggle-menu'); contactCallback() }"> {{ $t('Contact') }} </a>

            <LangSelector
                :for-sidebar="true"
            ></LangSelector>
        </nav>

        <div id="sidebarSkyVector">
            <svg width="100%" height="100%" viewBox="0 0 390 477" xmlns="http://www.w3.org/2000/svg">
                <g class="sky">
                    <path d="M-384 722.013V33.2648L-304.837 2.26404C-297.03 -0.81127 -288.334 -0.751644 -280.569 2.4304C-272.804 5.61244 -266.571 11.6706 -263.172 19.3384C-259.773 27.0062 -259.472 35.6901 -262.331 43.5747C-265.19 51.4593 -270.989 57.9343 -278.515 61.6459L-271.041 58.7234L-173.572 20.5354C-166.21 17.6476 -158.048 17.5381 -150.612 20.2273C-143.175 22.9166 -136.973 28.2206 -133.166 35.1474C-129.359 42.0742 -128.207 50.1495 -129.926 57.8633C-131.645 65.5772 -136.117 72.4013 -142.505 77.0597L-54.6771 42.6602C-46.6462 39.522 -37.6969 39.6984 -29.7961 43.1506C-21.8952 46.6029 -15.6894 53.0485 -12.5423 61.071C-9.39528 69.0934 -9.5646 78.0363 -13.0131 85.9341C-16.4615 93.8319 -22.907 100.038 -30.9328 103.189L-52.3589 111.589C-51.6223 111.524 -50.9074 111.503 -50.1924 111.503C-42.994 111.503 -35.9991 113.89 -30.3034 118.289C-24.6077 122.687 -20.5329 128.849 -18.7172 135.81C-16.9014 142.771 -17.4474 150.136 -20.2695 156.754C-23.0916 163.371 -28.0304 168.866 -34.3125 172.378L0.632431 158.696C7.8511 155.871 15.8419 155.714 23.1661 158.254C30.4902 160.793 36.6664 165.862 40.5826 172.548C44.4988 179.234 45.8976 187.097 44.5272 194.722C43.1568 202.347 39.1072 209.232 33.1076 214.138L110.515 183.809C118.062 180.854 126.441 180.82 134.011 183.715C141.581 186.609 147.798 192.223 151.443 199.457C155.089 206.691 155.9 215.024 153.72 222.825C151.539 230.626 146.523 237.333 139.654 241.632L203.586 216.585C207.564 215.02 211.813 214.254 216.088 214.331C220.363 214.408 224.581 215.327 228.501 217.034C232.42 218.742 235.965 221.205 238.931 224.282C241.897 227.359 244.227 230.991 245.787 234.969C247.348 238.947 248.108 243.193 248.025 247.465C247.942 251.737 247.017 255.951 245.302 259.865C243.588 263.779 241.118 267.318 238.034 270.277C234.951 273.237 231.313 275.56 227.33 277.114L204.799 285.946C211.544 285.216 218.342 286.724 224.145 290.237C229.947 293.75 234.431 299.074 236.906 305.387L238.054 308.374C239.536 312.152 240.26 316.186 240.182 320.243C240.105 324.301 239.229 328.303 237.603 332.022C235.978 335.741 233.635 339.104 230.709 341.918C227.782 344.733 224.33 346.943 220.549 348.424L132.483 382.932C138.804 382.55 145.083 384.18 150.42 387.587C155.756 390.995 159.875 396.004 162.185 401.896L164.048 406.658C166.947 414.054 166.789 422.297 163.608 429.576C160.427 436.855 154.484 442.573 147.084 445.474L-97.5298 541.291L-141.401 558.48C-136.222 558.187 -131.083 559.536 -126.718 562.336C-122.353 565.135 -118.984 569.24 -117.093 574.067L-111.33 588.766C-108.948 594.841 -109.078 601.612 -111.69 607.591C-114.302 613.571 -119.183 618.269 -125.26 620.654L-384 722.013Z" fill="#00F2FE"/>
                </g>
                <path d="M394.431 59.354V252.964C385.591 254.908 376.442 254.968 367.577 253.141C363.248 266.164 354.895 277.473 343.723 285.435C332.551 293.397 319.139 297.6 305.423 297.438C291.708 297.275 278.399 292.756 267.418 284.531C256.438 276.307 248.354 264.803 244.335 251.682C243.871 252.19 243.384 252.699 242.876 253.185C238.762 257.16 233.863 260.232 228.495 262.205C223.127 264.179 217.406 265.01 211.698 264.646C205.99 264.281 200.421 262.73 195.347 260.09C190.272 257.451 185.804 253.781 182.228 249.315C173.186 252.409 163.35 252.253 154.411 248.874C145.472 245.496 137.989 239.107 133.249 230.806C133.247 230.789 133.239 230.773 133.227 230.762C130.705 226.404 129.026 221.61 128.276 216.631C127.474 217.122 126.64 217.558 125.778 217.935C122.585 219.415 119.108 220.177 115.589 220.169C110.715 220.17 105.953 218.708 101.918 215.972C97.8832 213.236 94.7615 209.352 92.9564 204.822C90.3573 200.731 88.9843 195.98 89.0001 191.133C89.0044 189.554 89.1449 187.978 89.4201 186.422C90.5282 180.556 93.6463 175.259 98.2373 171.444C102.828 167.63 108.605 165.536 114.572 165.525C115.169 165.525 115.744 165.547 116.319 165.591H116.363C121.26 165.929 125.956 167.672 129.889 170.611C130.68 167.018 131.959 163.551 133.691 160.306C136.46 155.133 140.309 150.617 144.977 147.064C149.645 143.512 155.022 141.006 160.744 139.717C163.681 139.048 166.684 138.714 169.696 138.722C170.248 138.722 170.779 138.722 171.309 138.744C172.803 138.806 174.294 138.947 175.774 139.164H175.796C183.526 140.34 190.754 143.718 196.616 148.895C201.681 153.34 205.568 158.969 207.932 165.281C214.305 158.868 222.621 154.746 231.582 153.561H231.604C235.464 153.025 239.381 153.062 243.23 153.671C244.822 139.98 250.491 127.084 259.501 116.657C268.511 106.231 280.445 98.7551 293.756 95.2012C299.521 93.6505 305.467 92.8697 311.437 92.8792C312.94 92.8792 314.443 92.9234 315.924 93.034L316.919 93.1003C320.179 93.3533 323.416 93.856 326.599 94.6041C330.124 88.3224 334.597 82.6234 339.861 77.7088C340.082 77.4877 340.325 77.2886 340.524 77.0896C342.027 75.7185 343.596 74.4138 345.21 73.1975C347.953 71.0873 350.858 69.1944 353.896 67.5362L354.161 67.4036C364.341 61.8657 375.749 58.976 387.337 59.0001C389.458 59.0001 391.558 59.0886 393.636 59.2876L394.431 59.354Z" fill="white"/>
                <path d="M373.5 140.933C373.499 144.1 372.241 147.136 370.003 149.376C367.765 151.615 364.73 152.873 361.565 152.875C360.799 152.884 360.035 152.802 359.289 152.632C356.289 150.197 352.543 148.869 348.68 148.873C347.331 148.864 345.986 149.027 344.679 149.359C342.312 147.058 339.324 145.502 336.083 144.882C332.842 144.263 329.49 144.607 326.442 145.873C323.395 147.139 320.785 149.271 318.935 152.005C317.085 154.739 316.077 157.955 316.035 161.256C314.083 160.375 311.965 159.923 309.824 159.93C305.783 159.935 301.909 161.545 299.053 164.406C296.198 167.267 294.595 171.145 294.595 175.188C294.588 176.359 294.729 177.526 295.015 178.66C291.6 177.956 288.41 176.425 285.724 174.2C283.039 171.975 280.939 169.126 279.61 165.9C277.959 166.737 276.134 167.169 274.283 167.161C272.38 167.159 270.506 166.702 268.815 165.827C267.125 164.953 265.668 163.687 264.566 162.135C263.464 160.582 262.749 158.789 262.481 156.904C262.212 155.02 262.398 153.098 263.023 151.299C263.647 149.501 264.693 147.878 266.071 146.566C267.45 145.254 269.123 144.291 270.949 143.757C272.776 143.223 274.703 143.134 276.571 143.496C278.439 143.859 280.193 144.664 281.688 145.843C284.553 141.622 288.838 138.571 293.762 137.244C298.686 135.917 303.923 136.402 308.52 138.611C309.42 133.268 311.946 128.333 315.752 124.478C319.559 120.624 324.461 118.038 329.79 117.073C335.119 116.108 340.616 116.811 345.531 119.087C350.446 121.362 354.541 125.099 357.255 129.788C358.627 129.245 360.09 128.968 361.565 128.97C364.733 128.973 367.771 130.235 370.009 132.478C372.247 134.722 373.503 137.763 373.5 140.933Z" fill="#D0D2D3"/>
                <path d="M366.936 211.279C366.935 211.924 367.06 212.563 367.307 213.159C367.553 213.756 367.914 214.297 368.37 214.754C368.826 215.21 369.367 215.571 369.963 215.818C370.559 216.064 371.198 216.19 371.843 216.188C372.415 216.186 372.982 216.089 373.522 215.901C374.285 217.05 375.32 217.992 376.535 218.644C377.749 219.296 379.106 219.638 380.485 219.638C381.239 219.638 381.991 219.533 382.717 219.329C383.461 220.056 384.462 220.461 385.502 220.456C385.925 220.462 386.345 220.387 386.74 220.235C389.02 221.747 391.695 222.555 394.431 222.557V252.964C385.591 254.908 376.442 254.968 367.577 253.141C363.248 266.164 354.895 277.473 343.723 285.435C332.551 293.397 319.139 297.6 305.423 297.438C291.708 297.275 278.399 292.756 267.418 284.531C256.438 276.307 248.354 264.803 244.335 251.682C243.871 252.19 243.384 252.699 242.876 253.185C238.762 257.16 233.863 260.232 228.495 262.206C223.127 264.179 217.406 265.01 211.698 264.646C205.99 264.282 200.421 262.73 195.347 260.09C190.272 257.451 185.804 253.781 182.228 249.315C173.186 252.409 163.35 252.253 154.411 248.874C145.472 245.496 137.989 239.107 133.249 230.806C133.247 230.789 133.239 230.773 133.227 230.762C130.705 226.404 129.026 221.61 128.276 216.631C127.474 217.122 126.64 217.558 125.778 217.935C122.585 219.415 119.108 220.177 115.589 220.169C110.715 220.17 105.953 218.708 101.918 215.972C97.8832 213.236 94.7615 209.352 92.9564 204.822C90.3573 200.731 88.9843 195.98 89.0001 191.133C89.0044 189.554 89.1449 187.978 89.4201 186.422C90.9148 185.478 92.5083 184.699 94.1721 184.1C97.077 183.012 100.154 182.458 103.256 182.464C108.682 182.461 113.974 184.153 118.393 187.305C122.811 190.457 126.135 194.911 127.9 200.045C129.368 199.554 130.906 199.307 132.453 199.315C135.769 199.307 138.989 200.431 141.581 202.5C144.797 198.095 148.943 194.454 153.726 191.836C158.509 189.218 163.809 187.688 169.251 187.354C174.692 187.021 180.14 187.892 185.206 189.906C190.272 191.92 194.832 195.027 198.561 199.006C197.989 199.404 197.532 199.945 197.235 200.576C196.514 200.167 195.699 199.954 194.87 199.956C193.575 199.957 192.332 200.472 191.417 201.388C190.501 202.305 189.986 203.548 189.985 204.844C189.982 205.006 189.989 205.169 190.007 205.33C189.628 205.26 189.244 205.222 188.858 205.22C187.079 205.22 185.373 205.927 184.115 207.185C182.857 208.444 182.15 210.151 182.15 211.931C182.15 213.711 182.857 215.418 184.115 216.677C185.373 217.936 187.079 218.643 188.858 218.643C189.199 218.647 189.54 218.618 189.875 218.554C190.375 220.475 191.423 222.209 192.891 223.544C194.358 224.879 196.182 225.759 198.141 226.075C200.099 226.392 202.107 226.131 203.92 225.326C205.733 224.521 207.273 223.205 208.352 221.54C208.527 221.487 208.697 221.421 208.861 221.341C210.959 223.097 213.653 223.976 216.383 223.794C219.112 223.613 221.667 222.386 223.515 220.368C224.141 220.913 224.911 221.266 225.733 221.385C226.555 221.504 227.393 221.383 228.148 221.038C228.903 220.693 229.543 220.138 229.992 219.438C230.44 218.739 230.677 217.926 230.676 217.095C230.679 216.589 230.59 216.087 230.41 215.613C232.52 215.13 234.478 214.135 236.113 212.716C236.64 212.85 237.182 212.917 237.726 212.915C239.564 212.916 241.328 212.196 242.642 210.91C243.956 209.625 244.714 207.876 244.755 206.038C246.032 205.434 247.111 204.479 247.866 203.285C248.621 202.09 249.022 200.706 249.021 199.293C249.023 197.891 248.633 196.516 247.897 195.323C247.16 194.13 246.105 193.167 244.85 192.542C243.596 191.917 242.192 191.654 240.797 191.784C239.401 191.914 238.07 192.432 236.953 193.278C235.954 192.233 234.779 191.372 233.483 190.735C241.219 187.144 249.955 186.327 258.222 188.421C266.489 190.515 273.784 195.393 278.881 202.234C286.275 202.509 293.537 204.276 300.232 207.431C298.38 208.989 296.817 210.86 295.612 212.959C294.97 212.683 294.278 212.54 293.579 212.539C292.915 212.537 292.258 212.665 291.644 212.917C291.03 213.17 290.472 213.541 290.002 214.009C289.532 214.477 289.158 215.034 288.904 215.647C288.649 216.26 288.518 216.917 288.517 217.581C288.514 218.138 288.603 218.691 288.783 219.218C288.621 219.199 288.459 219.192 288.296 219.196C285.534 219.194 282.816 219.883 280.388 221.2C277.96 222.517 275.9 224.42 274.394 226.737C272.996 226.031 271.451 225.667 269.885 225.675C269.134 225.677 268.386 225.759 267.653 225.918C267.171 225.373 266.579 224.935 265.917 224.634C265.254 224.333 264.535 224.175 263.807 224.171C262.468 224.176 261.185 224.712 260.241 225.661C259.296 226.61 258.766 227.896 258.768 229.236C258.776 230.566 259.298 231.842 260.226 232.796C259.915 233.768 259.758 234.783 259.762 235.804C259.762 237.134 260.024 238.451 260.532 239.68C261.041 240.909 261.787 242.025 262.727 242.966C263.667 243.906 264.783 244.652 266.011 245.161C267.239 245.67 268.556 245.932 269.885 245.932C271.451 245.94 272.996 245.576 274.394 244.87C275.711 246.898 277.456 248.613 279.506 249.894C281.556 251.176 283.861 251.993 286.26 252.288C288.659 252.583 291.094 252.349 293.393 251.602C295.692 250.856 297.8 249.615 299.568 247.966C300.512 249.952 302.103 251.558 304.08 252.519C306.057 253.481 308.301 253.741 310.446 253.258C312.59 252.774 314.506 251.576 315.879 249.858C317.252 248.141 318.001 246.008 318.002 243.809C318.005 243.646 317.998 243.484 317.98 243.322C323.302 242.133 327.936 238.88 330.865 234.278C333.367 234.165 335.737 233.127 337.518 231.367C339.299 229.606 340.364 227.247 340.507 224.746C340.65 222.245 339.861 219.779 338.292 217.827C336.723 215.874 334.487 214.573 332.015 214.176C330.764 211.614 328.998 209.338 326.826 207.492C324.654 205.646 322.124 204.27 319.394 203.45C325.103 200.497 331.483 199.082 337.905 199.346C344.327 199.61 350.569 201.543 356.018 204.954C354.932 201.59 354.249 198.108 353.984 194.583C355.35 194.399 356.653 193.895 357.786 193.111C358.919 192.327 359.851 191.285 360.504 190.071C361.608 190.313 362.734 190.431 363.864 190.425C367.839 190.424 371.677 188.967 374.652 186.328C377.627 183.69 379.534 180.054 380.012 176.105C380.491 172.156 379.509 168.169 377.25 164.896C374.992 161.622 371.614 159.289 367.754 158.337C375.013 151.334 384.403 146.96 394.431 145.909V191.796C393.669 192.073 392.974 192.511 392.395 193.079C391.815 193.648 391.364 194.334 391.072 195.091C389.002 195.604 387.078 196.584 385.446 197.956C383.814 199.329 382.517 201.057 381.656 203.008C381.269 202.945 380.877 202.915 380.485 202.92C379.822 202.92 379.161 203.002 378.518 203.163C377.839 202.643 377.007 202.363 376.153 202.367C375.626 202.364 375.103 202.466 374.616 202.666C374.128 202.866 373.685 203.161 373.311 203.532C372.937 203.904 372.64 204.346 372.438 204.833C372.235 205.32 372.131 205.842 372.13 206.369V206.392C372.036 206.373 371.939 206.366 371.843 206.369C371.198 206.368 370.559 206.494 369.963 206.74C369.367 206.986 368.826 207.348 368.37 207.804C367.914 208.26 367.553 208.802 367.307 209.398C367.06 209.995 366.935 210.634 366.936 211.279Z" fill="#D0D2D3"/>
            </svg>
        </div>
    </div>
</template>

<script>
import { mapGetters, mapActions } from 'vuex';
import LangSelector from './LangSelector.vue';

export default {
    name: 'SidebarMenu',

    inject: ['emitter'],
    emits: ["toggle-menu"],

    props: {
        aboutCallback: {
            type: Function,
            default: null
        },

        contactCallback: {
            type: Function,
            default: null
        }
    },

    components: {
        LangSelector
    },

    data() {
        return {

        }
    },

    methods: {
        ...mapActions(
            {

            }
        ),
    },
    
    computed: {
        ...mapGetters(
            {

            }
        ),
    },

    created() {

    },

    mounted() {

    }
}
</script>

<style scoped>
#sidebar-menu {
    position: fixed;
    top: 0;
    right: -100%;
    bottom: 0;
    width: 100%;
    background-color: var(--black);
    padding: 20px;
    transition: right 0.3s ease-in-out;
    z-index: 15;
    overflow: hidden;
}
#sidebar-menu.open {
    right: 0;
}

nav {
    margin-top: 96px;
    font-size: 20px;
    text-transform: uppercase;
}

a {
    font-size: 24px;
    font-weight: bold;
}

a.router-link-active {
    font-family: "Archivo Black", sans-serif;
    position: relative;
}
a.router-link-active::before {
    box-sizing: content-box;
    content: "";
    position: absolute;
    bottom: 0px;
    right: -20px;
    width: 100%;
    padding: 0 22px;
    height: 12px;
    z-index: -1;
    background: var(--gradient-straight);
    border-top-left-radius: 16px;
    border-bottom-left-radius: 16px;
}

#sidebarSkyVector {
    position: absolute;
    z-index: -1;
    top: 56vh;
    width: 100%;
    left: 0;
}

</style>